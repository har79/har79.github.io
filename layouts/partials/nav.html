<nav aria-label="Main menu" class="nav">
  {{/* onclick is needed because iOS doesn't set focus in response to button
    touch events.
  */}}
  <button class="nav-button" tabindex="-1" onclick="this.focus()">
    <!-- TODO: https://docs.fontawesome.com/web/add-icons/svg-bare -->
    {{ partial "icon.html" "icons/solid/bars.svg" }}
  </button>
  <ul class="nav-links">
    {{ range site.Menus.main }}
      {{ if .HasChildren }}
        <li class="nav-group">
          {{/* {{ partial "nav-item.html" (dict "context" . "page" $ "hasDropdown"
            true)
          }}
          */}}
          <button class="nav-link">
            {{ .Name }}
            {{ partial "nav-dropdown.html" true }}
          </button>
          <ul>
            <li>
              <a href="{{ .URL }}" class="nav-link">All</a>
            </li>
            {{ range .Children }}
              <li>{{ partial "nav-item.html" (dict "context" . "page" $) }}</li>
            {{ end }}
          </ul>
        </li>
      {{ else }}
        <li>{{ partial "nav-item.html" (dict "context" . "page" $) }}</li>
      {{ end }}
    {{ end }}
  </ul>
</nav>
